## Common dev tools
sudo apt-get install -y filezilla meld virtualbox-qt gnome-boxes pyrenamer curl glade shunit2 build-essential make cmake

## Git
sudo apt-get install -y git gitg
git config --global user.email "$user_email"
git config --global user.name "$user_name"
git config --global push.default simple

## Ruby
while true; do
    read -p "Do you want to install Ruby? (y/n) " yn
    case $yn in
        [Yy]*)
            while true; do
                read -p "Do you want to install Ruby v2.1 from Brightbox PPA instead of the one in the default repositories? (y/n) " yn2
                case $yn2 in
                    [Yy]*)
                        add_ppa brightbox/ruby-ng
                        sudo apt-get update
                        sudo apt-get install -y ruby2.1 ruby2.1-dev

                        break
                    ;;
                    [Nn]*)
                        sudo apt-get install -y ruby ruby-dev

                        break
                    ;;
                    *) echo "Please answer yes or no.";;
                esac
            done

            # Common gems
            sudo apt-get install -y ruby-bundler rake zlib1g-dev libicu-dev
            sudo gem update && sudo gem install compass gollum redcarpet github-markdown

            break
        ;;
        [Nn]*) break;;
        *) echo "Please answer yes or no.";;
    esac
done

## Ubuntu SDK
USDK_INSTALLED=1

while true; do
    read -p "Do you want to install the Ubuntu SDK? (y/n) " yn
    case $yn in
        [Yy]*)
            USDK_INSTALLED=0
            add_ppa ubuntu-sdk-team/ppa
            sudo apt-get update
            sudo apt-get install -y ubuntu-sdk

            break
        ;;
        [Nn]*) break;;
        *) echo "Please answer yes or no.";;
    esac
done

## Editors
while true; do
    read -p "Do you want to install extra text editors? (y/n) " yn
    case $yn in
        [Yy]*)
            echo -e "\nsublime-text"
            echo -e "brackets"
            echo -e "atom"
            echo -e "eclipse"
            if [ $USDK_INSTALLED -eq 1 ]; then
                echo -e "qtcreator"
            fi
            echo ""
            read -p "Enter the editors you want to install: " input
            EDITORS=("$input")

            # Install the selected editors
            for i in "${EDITORS[@]}"; do
                case "${i,,}" in
                    sublime-text)
                        add_ppa webupd8team/sublime-text-2
                        sudo apt-get update
                        sudo apt-get install -y sublime-text
                    brackets)
                        add_ppa webupd8team/brackets
                        sudo apt-get update
                        sudo apt-get install -y brackets
                    atom)
                        add_ppa webupd8team/atom
                        sudo apt-get update
                        sudo apt-get install -y atom
                        apm stars --install
                    eclipse)
                        sudo apt-get install eclipse
                    qtcreator)
                        sudo apt-get install qtcreator
                esac
            done
            break
        ;;
        [Nn]*) break;;
    esac
done

## PHP
while true; do
    read -p "Do you want to install PHP? (y/n) " yn
    case $yn in
        [Yy]*)
            sudo apt-get install -y php5-cli php5-common php5-curl php5-json php5-mcrypt

            # Composer
            curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/bin --filename=composer

            # Add ~/.composer/vendor/bin to path
            echo "" >> ~/.bashrc
            echo "## Add ~/.composer/vendor/bin to path" >> ~/.bashrc
            echo 'export PATH="$HOME/.composer/vendor/bin:$PATH"' >> ~/.bashrc

            # Add Laravel alias
            echo "" >> ~/.bashrc
            echo "## Add Laravel aliases" >> ~/.bashrc
            echo "alias artisan=\"php artisan\"" >> ~/.bashrc

            break
        ;;
        [Nn]*) break;;
        *) echo "Please answer yes or no.";;
    esac
done

## NodeJS
while true; do
    read -p "Do you want to install Node.js? (y/n) " yn
    case $yn in
        [Yy]*)
            add_ppa chris-lea/node.js
            sudo apt-get update

            sudo apt-get install -y nodejs

            # Either create or empty ~/.npm
            if [ -d ~/.npm ]; then
                cd ~/.npm
                rm -R *
            else
                mkdir ~/.npm
                cd ~/.npm
            fi

            # Set npm paths
            npm config set prefix ~/.npm

            mkdir ~/.npm/cache
            npm config set cache ~/.npm/cache

            # Add ~/.npm/bin to PATH
            echo "" >> ~/.bashrc
            echo "## Add ~/.npm/bin to path" >> ~/.bashrc
            echo 'export PATH="$HOME/.npm/bin:$PATH"' >> ~/.bashrc

            # Install common node packages
            npm install -g grunt-cli bower yo gulp

            break
        ;;
        [Nn]*) break;;
        *) echo "Please answer yes or no.";;
    esac
done

## Java
while true; do
    read -p "Do you want to install Oracle Java? If no, OpenJDK will be installed instead. (y/n) " yn
    case $yn in
        [Yy]*)
            add_ppa webupd8team/java
            sudo apt-get update
            sudo apt-get install oracle-java8-installer
            break
        ;;
        [Nn]*)
            ## OpenJDK
            sudo apt-get install -y openjdk-7-jre
            break
        ;;
        *) echo "Please answer yes or no.";;
    esac
done
